<!DOCTYPE html>
<html lang="da">
<head>
  <title>Python: Løkker</title>
  <link rel="icon" href="../images/favicon.png">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu|Ubuntu+Condensed' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/stylesheets/jquery.tocify.min.css">
  <link rel="stylesheet" href="../css/style_new.css" />
<!-- Scripts in bottom to speed up pageload-->
 

</head>
<body>
	
	
<div class="container-fluid">

<div class="row">
	
<div class="col-sm-3">
	
	<nav>
		
		<div id="toc">
		
			<div id="toc_headline"></div>
		
		</div>
		
	</nav>

</div><!-- Start slut 1. kolonne - TOC -->
	
<div class="col-sm-9">
	
<div class="title">Matematik med Python</div>		
	
<figure id="">

	<img class="" src="images/python-logo-inkscape.svg" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h1>Løkker</h1>
	
	
<h2>Løkker - et overblik</h2>




<p>Ofte har man brug for at et program skal gøre det samme igen og igen. Det kan f.eks. være at skulle udføre den samme beregning, på et stigende tal. Det kan f.eks. være at udskrive 4 tabellen (4, 8, 12, 16, ...).</p>

<p>Den at gentage noget igen og igen kaldes en løkke (engelsk: loop)</p>

<p>Python arbejder med 2 forskellige løkker: <em>for</em> og <em>while</em>.</p>

<dl class="not_strong">
	<dt><code class="">for</code></dt>
	<dd>
		
		Anvendes når man kender det nøjagtige antal gennemløb (f.eks. 10 gange).<br><br>
		
		Funktionen bruges på på denne måde:<br><br>
		
		<pre><code class="python">for [TÆLLER] in range( [STARTVÆRDI], [SLUTVÆRDI], [SPRING] ):</code></pre>

	</dd>
	
	<dt><code class="">while</code></dt>
	<dd>
	
		Anvendes når man ikke kender det nøjagtige antal gennemløb. Det kan f.eks. være at 4 tabellen skal køre indtil vi rammer 100.<br><br>
		
		Funktionen bruges på denne måde:<br><br>	
		
		<pre><code class="python">while [BETINGELSE]:</code></pre>
		
	</dd>
</dl>




<h2>for løkken</h2>

<p>Her vil vi lave et simpel for-løkke, som udskriver de første 5 tal:</p>

<pre><code class="python">for i in range(5):
    print(i)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">0
<span class="thonny_print">1</span>
<span class="thonny_print">2</span>
<span class="thonny_print">3</span>
<span class="thonny_print">4</span></span></pre></samp>   
    
<p>Læg mærke til, at Python printer tallene 0-4 - altså de første 5 værdier, da python tæller fra 0.</p>

<p>Hvis du vil have den til at printe fra 1, altså som vi kan lide det, så kan det gøres ved at lægge en til hver gang i <code class="">print(i+1)</code>, altså:</p>

<pre><code class="python">for i in range(5):
	print(i+1)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">1
<span class="thonny_print">2</span>
<span class="thonny_print">3</span>
<span class="thonny_print">4</span>
<span class="thonny_print">5</span></span></pre></samp>

<div class="alert">
	
	<p>Her har jeg brugt bogstavet <em>i</em> som tæller. Det "plejer" man at gøre da i bruges som en forkortelse for <em>integer</em> - altså heltal.</p>
	
	<p><em>i</em> vil være den variabel der holder styr på hvor langt løkken er nået.</p>

</div>

<h3>Intervaller</h3>

<p>Du kan også bestemme start og slutværdien. Her vælger vi intervallet fra 8-13.</p>

<pre><code class="python">for i in range(8,13):
	print(i)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">8
<span class="thonny_print">9</span>
<span class="thonny_print">10</span>
<span class="thonny_print">11</span>
<span class="thonny_print">12</span></span></pre></samp>

<p>Her kan vi se fordelen ved måde Python tæller:</p>

<p>Forestil dig at vi i et program skal udskrive den 8. værdi og 5 værdier frem. Startværdien er altså <em>8</em>. Slutværdien vil være <em>8+5 = 13</em>. det ville vi kunne skrive direkte ind i koden:</p>

<pre><code class="python">for i in range(8,8+5)</code></pre>

<p>Altså:</p>

<pre><code class="python">for i in range(8,13)</code></pre>

<p>Det er faktisk rigtig smart at Python tæller som Python gør.</p>

<h3>Udskriv med spring</h3>

<p>Vi kan også få Python til at udskrive i spring. Her udskriver vi hver andet tal:</p>

<pre><code class="python">for i in range(0,10,2):
	print(i)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">0
<span class="thonny_print">2</span>
<span class="thonny_print">4</span>
<span class="thonny_print">6</span>
<span class="thonny_print">8</span></span></pre></samp>

<h3>Udskriv baglæns</h3>

<p>Hvis du gerne vil have Python til at tælle baglæns kan du gøre det på samme måde. Her sætter vi springværdien til -1:</p>

<pre><code class="python">for i in range(5,0,-1):
	print(i)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">5
<span class="thonny_print">4</span>
<span class="thonny_print">3</span>
<span class="thonny_print">2</span>
<span class="thonny_print">1</span></span></pre></samp>


<h3>Udskriv vandret</h3>

<p>Hvis du hellere vil have din udkrift vandret kan det gøres på følgende måde. Indsæt <code class="">end=" - "</code> i din <code class="">print</code>-sætning</p>

<pre><code class="python">for i in range(0,10):
    print(i, end=" ")</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">0 1 2 3 4 5 6 7 8 9 </span></pre></samp>

<p>Hvis du gerne vil have et tegn (f.eks. en delestreg) mellem tallene indsætter du det imellem citationstegnene:</p>

<pre><code class="python">for i in range(0,10):
    print(i, end=" - ")</code></pre>
    
<samp><pre>>>> %Run test.py
<span class="thonny_print">0 - 1 - 2 - 3 - 4 - 5 - 6 - 7 - 8 - 9 - </span></pre></samp>


<h3>For char in ...</h3>

<p>Ofte har man brug for at kunne gennemføre en funktion på hver eneste tegn i en tekststreng. Herunder er vist et simpelt eksempel hvor man ved hjælp af en for-løkke printer hver bogstav i navnet.</p>

<pre><code class="python">for char in "Thomas":
	print(char)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">T</span>
<span class="thonny_print">h</span>
<span class="thonny_print">o</span>
<span class="thonny_print">m</span>
<span class="thonny_print">a</span>
<span class="thonny_print">s</span></pre></samp>

<div class="alert">
	
	<p>Her har jeg brugt <em>char</em> i stedet for <em>i</em>. Det er et bevidst valg, da denne funktion ikke laver tal, men bogstaver. Ligesom tal hedder <em>integers</em>, så hedder tegn <em>char</em>.</p>
	
	<p>Når du bruger <em>char</em>, så gør du opmærksom på at nu sker der noget andet - og det gør koden lettere at læse.</p>

</div>


<h3>Word word in...</h3>

<p>Man kan også printe en tekst ord for ord. Det gøres ved at anvende funktionen <code class="">split()</code>:</p>

<pre><code class="python">tekst = "Hej med dig"
for word in tekst.split():
	print(word)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">Hej</span>
<span class="thonny_print">med</span>
<span class="thonny_print">dig</span></pre></samp>


<h3>Trekanttal - et eksempel</h3>

<p>Her vil vi lave et program der udskriver trekanttallene. Trekanttal er de tal vi får når vi bygger trekanter på følgende måde:</p>


<figure id="">

	<img class="w-75" src="images/trekanttal_cirkler.svg" alt="" title="">

	<figcaption></figcaption>

</figure>

<p>De røde cirkler er dem vi lægger til hver gang, og det som sker er, at vi starter med 1, så siger 1 + 2, derefter 1 + 2+ 3 osv. Hvis vi skulle finde det n'te trekantal, f.eks. det 10, så kan bruge følgende formel:</p>

<!--
<div class="latex">$$ T_n = 1+2+3 ... +n= \frac {n \cdot (n+1)}{2} $$</div>
-->

<div class="latex">$$ T_n = \frac {n \cdot (n+1)}{2} $$</div>

<p>For det tienden tal vil det altså være:</p>

<div class="latex">$$ T_{10} = \frac {10 \cdot (10+1)}{2} = 55 $$</div>

<p>Først laver vi en funktion, så det kan udregne tallene for os og tester den med det samme:</p>

<pre><code class="python">def trekanttal(n):
	tal = (n*(n+1))/2
	return tal
	
trekanttal(10)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">55.0</span></pre></samp>

<p>Vi kan se at det kommer ud som en <em>float</em>, men da vi ved det altid vil være en <em>int</em>, så ændrer vi det med det samme:</p>

<pre><code class="python">def trekanttal(n):
	tal = (n*(n+1))/2
	# Her konverterer vi til int
	tal = int(tal) 
	return tal
	
print(trekanttal(10))</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">55</span></pre></samp>

<p>Nu har vi funktionen på plads, så nu skal vi lave en løkke så vi får udskrevet tallene. Vi starter med at udskrive de første 10 tal vandret:</p>

<pre><code class="python">def trekanttal(n):
    tal = (n*(n+1))/2
    tal = int(tal)
    return tal
    
for i in range(1,11):
    print(trekanttal(i), end=" - ")</code></pre>
<samp><pre>>>> %Run test.py
<span class="thonny_print">1 - 3 - 6 - 10 - 15 - 21 - 28 - 36 - 45 - 55 - </span></pre></samp>


<h2>While</h2>

<p>While betingelser angiver noget der skal ske så længe en betingelse er opfyldt. Herunder laver vi en kode, der udskriver tallet a, startende med en og indtil <span class="math">\( a \leq 5 \)</span>.</p>

<pre><code class="python">a = 1
while a &lt;= 5:
    print (a)
    a +=1</code></pre>
    
<samp><pre>>>> %Run test.py
<span class="thonny_print">1
<span class="thonny_print">2</span>
<span class="thonny_print">3</span>
<span class="thonny_print">4</span>
<span class="thonny_print">5</span></span></pre></samp>

<p>Det som koden siger er:</p>

<dl class="not_strong">
	<dt><code class="">a = 1</code></dt>
	<dd>a sættes til at være 1, så <em>while</em> kan kontrollere betingelsen</dd>
	<dt><code class="">while a &lt;= 5:</code></dt>
	<dd>Så længe a er mindre end 5 så skal koden køres</dd>
	<dt><code class="">print(a)</code></dt>
	<dd>Udskriver a</dd>
	<dt><code class="">a +=1</code></dt>
	<dd>a gøres en større.</dd>
</dl>

<p>While køres igen, og tjekker om <span class="math">\( a \leq 5 \)</span> og så længe den er det, så kører koden. og det gør den indtil a er 6.</p>

<h2>While True</h2>

<p>Der kan være situationer hvor det ikke er dig som programmør der sætter betingelserne. Det kan f.eks. være en bruger der skal skrive noget, en temperatur der måles eller at en værdi rammes. Altså en der løkke der køres indtil en betingelse er opfyldt.</p>

<p>I de tilfælde laver man en <code class="">while True:</code></p>

<p>Som standard er tilstanden altid <em>True</em>, og det betyder at når Python ser denne kode så kører den indtil løkken bliver afbrudt med <code class="">break</code></p>

<p>Lad os se på følgende program, hvor brugeren skal gætte det rigtige tal mellem 1 og 10. Her er betingelsen for at løkken stopper, at brugeren taster 5.</p>

<pre><code class="python">while True:
    a = 5
    valg = input("Gæt et tal mellem 1 og 10: ")
    if valg == "5":
        print ("\n\tGodt gættet\n")
        break # Stopper løkken så koden kan køre videre
    else:
        print("\n\tPrøv igen\n")</code></pre>
        
<samp><pre>>>> %Run test.py
Gæt et tal mellem 1 og 10: <span class="blue">3</span>

<span class="thonny_print">	Prøv igen</span>

Gæt et tal mellem 1 og 10: <span class="blue">7</span>

<span class="thonny_print">	Prøv igen</span>

Gæt et tal mellem 1 og 10: <span class="blue">5</span>

<span class="thonny_print">	Godt gættet</span>

<span class="thonny_print">Tillykke... Du fandt tallet :)</span></pre></samp>        

<p>Her er det brugeren input (5) der stopper løkken, men det kunne også være at en sensor blev aktiveret eller lavede en bestemt måling.</p>


<h2>break, continue, pass og exit</h2>

<p>I Python er der 4 metoder  vi kan anvende for at bryde ind i betingede løkker. Det kan både være i <em>for</em> og <em>while</em> løkker:</p>

<p>Her har du en oversigt over de 4 metoder</p>

<dl class="not_strong">
	<dt><code class="">break</code></dt>
	<dd>Afbryder løkken så koden kan fortsætte</dd>
	<dt><code class="">continue</code></dt>
	<dd>Genstarter løkken og kører ikke koden derunder</dd>
	<dt><code class="">pass</code></dt>
	<dd>Løkken fortsætter i samme session</dd>
	<dt><code class="">exit()</code></dt>
	<dd>Afbryder programmet</dd>
</dl>

<h3>break</h3>

<p>I eksemplet ovenfor så du hvordan <code class="">break</code> anvendes. Så snart brugeren valgte 5 blev løkken afbrudt, og udskriv: <em>Tillykke... Du fandt tallet!</em></p>

<p><code class="">break</code> afbryder løkken, så koden kan køre videre.</p>

<h3>continue</h3>

<p>Du skal bruge <code class="">continue</code>, når du vil stoppe den kørsel løkken har gang i, men du vil ikke stoppe selve løkken.</p>

<p>I eksemplet herunder udskriver programmet sætningen <em>Helle ser en elefant</em>, men fjerner samtidig alle <em>e'er</em> i sætningen:</p>

<pre><code class="python">for char in "Helle ser en elefant":
    if char == "e":
        continue
    
    print(char, end="")</code></pre>
    
<samp><pre><span class="thonny_print">Hll sr n lfant</span></pre></samp>    

<p><code class="">continue</code> stopper ikke løkken, men den forhindrer e bliver udskrevet.</p>

<h3>pass</h3>

<p><code class="">pass</code> minder om continue, men lader resten af koden køre videre.</p>

<p>I eksemplet herunder, hvor jeg udskriver tallene fra 1-5, vil jeg gøre opmærksom på at 4 er mit lykketal:</p>

<pre><code class="python">for i in range(1,6):
    if i == 4:
        print("Næste tal er mit lykketal")
        pass
    print(i)</code></pre>

<samp><pre>>>> %Run test.py
<span class="thonny_print">1</span>
<span class="thonny_print">2</span>
<span class="thonny_print">3</span>
<span class="thonny_print">Næste tal er mit lykketal</span>
<span class="thonny_print">4</span>
<span class="thonny_print">5</span></pre></samp>

<p><code class="">pass</code> er også brugbar til tomme funktioner. Forestil dug at du er i gang med en længere kode, hvor du skal have lavet nogle funktioner der ikke er nødvendige i første omgang. Men du vil gerne have dem ind i koden.</p>

<p>Tag f.eks. koden med trekanttal som vi har lavet længere oppe. Hvis vi gerne vil tilføje en fremtidig funktion som udregner firkanttal, som vi endnu ikke har sat os ind i, så kan vi gøre det sådan her:</p>

<pre><code class="python">def trekanttal(n):
	tal = (n*(n+1))/2
	# Her konverterer vi til int
	tal = int(tal) 
	return tal


# Skal indeholde beregning af firkanttal	
def firkanttal(n):
	pass
	
print(trekanttal(10))
#print(firkanttal(10))</code></pre>

<h3>exit()</h3>

<p><code class="">exit()</code> er den "hårde" metode og svarer til at afslutte Python. Kommandoen afslutter ikke bare programmet, men også Python selv. Forestil vi laver et program hvor brugeren skal skrive <em>ja</em> for at fortsætte og hvis han ikke gør så lukker programmet: </p>

<pre><code class="python">svar = input(f"Skriv \"ja\" for at fortsætte: ")

while True:
    if svar == "ja":
        break
    else:
        print("\nProgrammet afsluttes nu")
        exit()
    
print("Velkommen")    </code></pre>

<samp><pre>>>> %Run test.py
Skriv "ja" for at fortsætte: n

Programmet afsluttes nu

───────────────────────────────────────────────────
Python 3.8.5 (/usr/bin/python3)
>>></pre></samp>

<p>Læg mærke til at Thonny laver en streg udskriver versionen af Python. Det skyldes at Python lukker helt ned pga. <code class="">exit()</code>. Thonny sørger for at genstartet Python med det samme, så vi kan fortsætte.</p>

<p>Her er et eksempel hvor jeg har startet Python op fra kommandolinien på min PC, og her kan du se, at <code class="">exit()</code> stopper Python fuldstændig.</p>

<samp><span class="terminal_green">tj@desktop</span>:<span class="terminal_tilde">~</span>$ tj@tj-desktop:~$ python3
Python 3.8.5 (default, Jul 28 2020, 12:59:40) 
[GCC 9.3.0] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>> exit()
<span class="terminal_green">tj@desktop</span>:<span class="terminal_tilde">~</span>$ 

</samp>


<h2>Tællere i løkker</h2>

<p><code class="">while True:</code> kan risikere at blive en løkke der aldrig stopper, så resten af programmet ikke kan afvikles. Derfor kan det være smart at sikre sig, at den kun kun kører nogle få gange. Det kan f.eks. være et simpelt kodeprogram, hvor man kun får 3 forsøg på at indtaste det rigtige tal. </p>

<p>Her ændrer vi programmet ovenover, hvor man skal skal gætte et tal mellem 1 og 10, men hvor brugere kun har 3 chancer til at gætte det:</p>

<pre><code>forsøg = 3

print("Du har 3 forsøg til at gætte et tal mellem 1 og 10.\n\n")

while True:

    if forsøg > 0:
        a = 5
        valg = input("Gæt et tal mellem 1 og 10: ")

        if valg == "5":
            print ("\n\tGodt gættet\n")
            break # Stopper løkken så koden kan køre videre
        else:
            forsøg -= 1
            print(f"\n\tPrøv igen. Du har {forsøg} tilbage.\n")

    else:
        print("Du har ikke flere forsøg")
        break</code></pre>
        
<samp><pre>>>> %Run test.py

<span class="thonny_print">Du har 3 forsøg til at gætte et tal mellem 1 og 10.</span>

<span class="thonny_print">Gæt et tal mellem 1 og 10: <span class="blue">2</span></span>

	<span class="thonny_print">Prøv igen. Du har 2 tilbage.</span>

<span class="thonny_print">Gæt et tal mellem 1 og 10: <span class="blue">9</span></span>

	<span class="thonny_print">Prøv igen. Du har 1 tilbage.</span>

<span class="thonny_print">Gæt et tal mellem 1 og 10: <span class="blue">4</span></span>

	<span class="thonny_print">Prøv igen. Du har 0 tilbage.</span>

<span class="thonny_print">Du har ikke flere forsøg</span>
>>></pre></samp>        
	
</div><!-- end: col-md-9 -->

<footer class="fixed-bottom text-center bg-light">

	<p onclick="parentNode.remove()"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons licens" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>Indholdet på Vidas.dk er licenseret under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> og er skrevet af Thomas Jensen. (<a href="../hvem_er_jeg.html" target="_blank">Læs mere</a>)</p>

</footer>
	
	
</div><!-- end: row -->

</div> <!-- end: container-fluid -->


<!-- SCRIPT SECTION -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tocify/1.9.0/javascripts/jquery.tocify.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.min.js"></script>



<!-- HIGHLIGHT -->
	<script src="../js/highlight.pack.js" type="text/javascript"></script>
	<script>hljs.initHighlightingOnLoad();</script>

<!-- MATHJAX -->
<script type="text/javascript" 
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "0em"
});
</script>


<!-- TOCIFY -->
<script>
	$(function() {var toc = $("#toc").tocify({ selectors: "h2, h3, h4" }).data("toc-tocify"); });
</script>
<!-- GOOGLE ANALYTICS -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89933285-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
