<!DOCTYPE html>

<head>
	
	<meta charset="UTF-8" lang="da"/>

	<title>MySQL - Opret database - Thomas Jensen</title>

	<link rel="stylesheet" href="../css/styles/docco.css" />

	<link rel="stylesheet" href="../css/style.css" />

	<link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu|Ubuntu+Condensed' rel='stylesheet' type='text/css'>
	
	<script src="../js/toc2.js" type="text/javascript"></script>
	<script src="https://code.jquery.com/jquery-2.2.2.js"></script>
	<script src="../js/highlight.pack.js" type="text/javascript"></script>
	<script>hljs.initHighlightingOnLoad();</script>

</head>

<!-- 

code highlighter : 

code converter : http://www.freebits.co.uk/convert-html-code-to-text.html 




-->



<html>

<body onload="generateTOC(document.getElementById('toc'));">

<footer id="license"></footer>

	<script> $( "#license" ).load( "license.html" ); </script>

	<div id="toc">
	<p>Indholdsfortegnelse</p>
	
	</div>

<div class="title">MySQL - Opret en database</div>

<h1>Overblik over phpMyAdmin</h1>

<p>I dette kapitel vil du få et overblik over phpMyAdmins opbygning. Hovedvinduet består grundlæggende af 2 dele. I venstre side er der et filtræ, hvor man kan se alle databaserne. Man kan udvide træet ved at klikke på det lille <span class="inl_cmd">+</span>.</p>

<p>I den højre side har man selve den del af programmet man arbejder med. Den er opdelt i 3 niveauer. Den grå linie øverst fortæller hvor man er, og fanerne derunder giver adgang til forskellig funktionalitet. </p>

<figure id="">

	<img class="p90" src="images/mysql_main_window.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Herunder vil vi kort gennemgå fanerne:</p>

<ul class="disc">
	<li>Databaser</li>
	<li>SQL</li>
	<li>Status</li>
	<li>Brugerkonti</li>
</ul>

<h2>Databaser</h2>

<p>I dette vindue oprettes og slettes databaser.</p>

<p>Vær opmærksom på at sætte <span class="inl_cmd">tegnsættet</span> rigtigt fra starten af, så du ikke skal ændre tegnsættet for hver eneste felt du skal oprette. Vælg altid <span class="inl_cmd">utf8_danish_ci</span>!</p>

<figure id="">

	<img class="p90" src="images/mysql_main_window_Databaser.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>SQL</h2>

<p>Denne fane giver adgang til at indskrive <span class="inl_cmd">SQL</span> kommandoer. Når man begynder at arbejde mere med databaser finder man ud af at nogle ting er meget nemmere at gøre ved hjælp af kommandoer end at klikke sig frem igennem et hav af menuer.</p>

<figure id="">

	<img class="p90" src="images/mysql_main_window_SQL.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Status</h2>

<p>Hvis man er database administrator kan det være godt at holde øje med denne fane, da den fortæller noget om hvor stort presset er på databasen.</p>

<figure id="">

	<img class="p90" src="images/mysql_main_window_Status.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Brugerkonti</h2>

<p>En af styrkerne ved at anvende MySQL er, at man kan oprette flere brugere, som kun har adgang til forskellige dele af databasen. Man kan altså oprette brugere til enkelte databaser og sørge for at deres rettigheder kun gælder denne.</p>

<figure id="">

	<img class="p90" src="images/mysql_main_window_Brugerkonti.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h1>Normalisering</h1>

<p>En database er grundlæggende en samling data der er organiseret i rækker og kolonner. I rækkerne (kaldes også en <span class="inl_cmd">post</span>) har vi de enkelte opslag og i kolonnerne de kategorier opslaget skal indeholde. Herunder er et skema over mentorfordelingen på en mindre skole. </p>

<table class="">
	<thead>
		<tr>
			<th>Mentor</th>
			<th>Klasse 1</th>
			<th>Klasse 2</th>
			<th>Klasse 3</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Thomas Jensen (tj)</td>
			<td>1a (17 elever)</td>
			<td>2a (22 elever)</td>
			<td>3a (21 elever)</td>
		</tr>
		<tr>
			<td>Bent Andersen (ba)</td>
			<td>1b (16 elever)</td>
			<td>2b (24 elever)</td>
			<td>3b (22 elever)</td>
		</tr>
		<tr>
			<td>Christina Carlsen (cc)</td>
			<td>1x (28 elever)</td>
			<td>2x (31 elever)</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
	</tbody>
</table>

<p>Skemaet ovenfor er let at læse for os, men det for at gøre det til effektiv til en database skal vi anvende <span class="inl_cmd">normalisering</span>. Normaliseringsprocessen sikrer at data ikke bliver gentaget flere steder og data er entydig. Det man vil undgå er <span class="inl_cmd">redundans</span> (gentagelser) og <span class="inl_cmd">inkonsistens</span> (mangel på sammenhæng).</p>

<p>For at undgå redundans og inkonsistens gennemløber man i databasens designfase disse tre trin:</p>

<ol class="">
	<li>Normalform 1 (NF1)</li>
	
	<ul class="disc">
		<li>Tabellen har et nøglefelt (behøver ikke at være unikt)</li>
		<li>Der må kun være en værdi af samme type i hver post</li>
		<li>Alle poster skal være lige lange dvs. have samme antal felter</li>
	</ul>
	
	<li>Normalform 2 (NF2)</li>
	
	<ul class="disc">
		<li>Tabellen opfylder NF1</li>
		<li>Der skal være en nøgle i hver tabel, der entydigt bestemmer indholdet.</li>
	</ul>
		
	<li>Normalform 3 (NF3)</li>
	
	<ul class="disc">
		<li>Tabellen opfylder NF2</li>
		<li>Hvis der er mere end et felt der kan sættes som nøgle for andre felter skal tabellen opdeles i flere.</li>
	</ul>
</ol>

<p>Her kan du finde en (relativ) <a href="http://laerer.rhs.dk/psl/rhs/HHX-materiale/Databaser/Database%20-%20Design/Pr%C3%A6sentationer/Del%208%20-%20Normalisering.ppt" target="_blank">let gennemgang af normaliseringsprocessen</a>.</p>


<h2>Normalform 1 (NF1)</h2>



<blockquote>
	<ul class="disc">
		<li>Tabellen har et nøglefelt (behøver ikke at være unikt)</li>
		<li>Der må kun være en værdi af samme type i hver post</li>
		<li>Alle poster skal være lige lange dvs. have samme antal felter</li>
	</ul>
</blockquote>

<p>Lige nu er skemaet menneskelæseligt, men for at få tabellen til at opfylde <span class="inl_cmd">NF1</span> skal vi have ændret på nogle ting.</p>

<ol class="">
	<li>Vi gør lærerens initialer til nøglefelt</li>
	<li>Vi inddeler tabellen i 4 kolonner (Initialer, Mentor, Klasse, Antal elever)</li>
</ol>

<p>Resultaet herunder opfylder de 3 krav til NF1:</p>

<ul class="disc">
	<li>Der er et nøglefelt</li>
	<li>Der er kun en værdi af samme type i hver post</li>
	<li>Alle poster er på 4 felter</li>
</ul>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 1 - Mentorer, klasser og elever</th>
		</tr>
		<tr>
			<th>Initialer</th>
			<th>Mentor</th>
			<th>Klasse</th>
			<th>Antal elever</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>1a</td>
			<td>17</td>
		</tr>
		<tr>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>2a</td>
			<td>22</td>
		</tr>
		<tr>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>3a</td>
			<td>21</td>
		</tr>
		<tr>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>1b</td>
			<td>16</td>
		</tr>
		<tr>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>2b</td>
			<td>24</td>
		</tr>
		<tr>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>3b</td>
			<td>22</td>
		</tr>
		<tr>
			<td>cc</td>
			<td>Christina Carlsen</td>
			<td>1x</td>
			<td>28</td>
		</tr>
		<tr>
			<td>cc</td>
			<td>Christina Carlsen</td>
			<td>2x</td>
			<td>31</td>
		</tr>
	</tbody>
</table>


<h2>Normalform 2 (NF2)</h2>

<blockquote>
	<ul class="disc">
		<li>Tabellen opfylder NF1</li>
		<li>Der skal være en nøgle i hver tabel, der entydigt bestemmer indholdet.</li>
	</ul>
</blockquote>

<p>For at opfylde NF2 skal tabellen først opfylde NF1, men derudover skal tabellen have en unik nøgle. Lærerens initialer og navn er ikke unik da samme lærer kan have flere klasser. Herunder vælger vi at klassenavnet skal være den unikke nøgle</p>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 1 - Klasser, mentorer og elever</th>
		</tr>
		<tr>
			<th>Klasse (Nøgle)</th>
			<th>Mentor</th>
			<th>Navn</th>
			<th>Antal elever</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1a</td>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>17</td>
		</tr>
		<tr>
			<td>2a</td>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>22</td>
		</tr>
		<tr>
			<td>3a</td>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>21</td>
		</tr>
		<tr>
			<td>1b</td>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>16</td>
		</tr>
		<tr>
			<td>2b</td>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>24</td>
		</tr>
		<tr>
			<td>3b</td>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>22</td>
		</tr>
		<tr>
			<td>1x</td>
			<td>cc</td>
			<td>Christina Carlsen</td>
			<td>28</td>
		</tr>
		<tr>
			<td>2x</td>
			<td>cc</td>
			<td>Christina Carlsen</td>
			<td>31</td>
		</tr>
	</tbody>
</table>

<h2>Normalform 3 (NF3)</h2>

<blockquote>

	<ul class="disc">
		<li>Tabellen opfylder NF2</li>
		<li>Hvis der er mere end et felt der kan sættes som nøgle for andre felter skal tabellen opdeles i flere.</li>
	</ul>

</blockquote>

<p>NF 2 sikrer, at vi kan tilgå tabellen igennem en unik nøgle og at den er sammenhængende. Men den bliver hurtig uoverskuelig. Derfor vælger vi at analysere tabellen for om den kan slittes op i mindre tabeller, hvor felter der afhænger af andre får deres egne tabeller. </p>

<p>Her vælger vi at opdele tabellen i 3:</p>

<ul class="disc">
	<li>En tabel der angiver den mentor der er tilknyttet klassen</li>
	<li>En tabel med informationer om mentoren</li>
	<li>En tabel med informationer om klassen</li>
</ul>


<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 1 - Klasser og mentorer</th>
		</tr>
		<tr>
			<th>Klasse (Primær nøgle)</th>
			<th>Mentor</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1a</td>
			<td>tj</td>
		</tr>
		<tr>
			<td>2a</td>
			<td>tj</td>
		</tr>
		<tr>
			<td>3a</td>
			<td>tj</td>
		</tr>
		<tr>
			<td>1b</td>
			<td>ba</td>
		</tr>
		<tr>
			<td>2b</td>
			<td>ba</td>
		</tr>
		<tr>
			<td>3b</td>
			<td>ba</td>
		</tr>
		<tr>
			<td>1x</td>
			<td>cc</td>
		</tr>
		<tr>
			<td>2x</td>
			<td>cc</td>
		</tr>
	</tbody>
</table>

<p>og</p>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 2 - Mentorer</th>
		</tr>
		<tr>
			<th>Mentor (Primær nøgle)</th>
			<th>Navn</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>tj</td>
			<td>Thomas Jensen</td>
		</tr>
		<tr>
			<td>ba</td>
			<td>Bent Andersen</td>
		</tr>
		<tr>
			<td>cc</td>
			<td>Christina Carlsen</td>
		</tr>
	</tbody>
</table>

<p>og</p>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 3 - Klasser og elever</th>
		</tr>
		<tr>
			<th>Klasse (Primær nøgle)</th>
			<th>Antal elever</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1a</td>
			<td>17</td>
		</tr>
		<tr>
			<td>2a</td>
			<td>22</td>
		</tr>
		<tr>
			<td>3a</td>
			<td>21</td>
		</tr>
		<tr>
			<td>1b</td>
			<td>16</td>
		</tr>
		<tr>
			<td>2b</td>
			<td>24</td>
		</tr>
		<tr>
			<td>3b</td>
			<td>22</td>
		</tr>
		<tr>
			<td>1x</td>
			<td>28</td>
		</tr>
		<tr>
			<td>2x</td>
			<td>31</td>
		</tr>
	</tbody>
</table>

<p>Fordelen ved at gøre dette er, at vi nu kan tilføje data til tabellerne uden at bryde sammenhængen mellem dem. Vi kan f.eks. udvide tabel 2 og 3 med flere informationer om mentorerne.</p>

<table class="">
	<thead>
		<tr>
			<th colspan="5">Tabel 2 (udvidet) - Mentorer</th>
		</tr>
		<tr>
			<th>Mentor (Primær nøgle)</th>
			<th>Navn</th>
			<th>Lokale</th>
			<th>Mobil</th>
			<th>Mail</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>tj</td>
			<td>Thomas Jensen</td>
			<td>17</td>
			<td>23344517</td>
			<td>tj@fakemail.dk</td>
		</tr>
		<tr>
			<td>ba</td>
			<td>Bent Andersen</td>
			<td>18</td>
			<td>23344518</td>
			<td>ba@fakemail.dk</td>			
		</tr>
		<tr>
			<td>cc</td>
			<td>Christina Carlsen</td>
			<td>19</td>
			<td>23344519</td>
			<td>cc@fakemail.dk</td>			
		</tr>
	</tbody>
</table>

<p></p>

<table class="">
	<thead>
		<tr>
			<th colspan="6">Tabel 3 (udvidet)- Klasser og elever</th>
		</tr>
		<tr>
			<th>Klasse (Primær nøgle)</th>
			<th>Antal elever</th>
			<th>Piger</th>
			<th>Drenge</th>
			<th>Startår</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>1a</td>
			<td>17</td>
			<td>9</td>
			<td>8</td>
			<td>2016</td>
		</tr>
		<tr>
			<td>2a</td>
			<td>22</td>
			<td>10</td>
			<td>12</td>
			<td>2015</td>
		</tr>
		<tr>
			<td>3a</td>
			<td>21</td>
			<td>8</td>
			<td>13</td>
			<td>2014</td>
		</tr>
		<tr>
			<td>1b</td>
			<td>16</td>
			<td>8</td>
			<td>8</td>
			<td>2016</td>
		</tr>
		<tr>
			<td>2b</td>
			<td>24</td>
			<td>13</td>
			<td>11</td>
			<td>2015</td>
		</tr>
		<tr>
			<td>3b</td>
			<td>22</td>
			<td>9</td>
			<td>13</td>
			<td>2014</td>
		</tr>
		<tr>
			<td>1x</td>
			<td>28</td>
			<td>13</td>
			<td>15</td>
			<td>2016</td>
		</tr>
		<tr>
			<td>2x</td>
			<td>31</td>
			<td>17</td>
			<td>14</td>
			<td>2015</td>
		</tr>
	</tbody>
</table>

<p>Ved at anvende normalisering på vores database får vi en opbygning der sikrer at vi ikke har redundans (gentagelser) og inkonsistens (mangel på sammenhæng) i de enkelte tabeller. Det sikrer også, at tabellen bliver nemmere at vedligeholde og udvide med flere informationer.</p>

<p>Hver eneste gang man udvider sin database bør man sikre sig at databasen overholder de tre normaliseringskrav.</p>

<h1>Opret databasen</h1>

<p>I dette kapitel vil vi oprette databasen med de tre tabeller vi har lavet ved hjælp af normaliseringsprocessen, og kalde den: <span class="inl_cmd">mentorer</span>. Tabellerne skal oprettes efter nedestående skemaer, og vil blive eksemplificeret ved hjælp af <span class="inl_cmd">tabel 1: klasser_og_mentorer</span>:</p>

<p>Det vi skal gøre er følgende:</p>

<ol class="">
	<li>Start XXAMP og start phpMyAdmin</li>
	<li>Opret databasen</li>
	<li>Opret tabel 1</li>
	<li>Indtast data</li>
	<li>Opret tabel 2</li>
	<li>...</li>

</ol>

<span class="afsnit">Skemaer til tabellerne</span>

<p></p>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 1: Klasser_og_mentorer</th>
		</tr>
		<tr>
			<th>Kolonnenavn</th>
			<th>Datatype</th>
			<th>Længde/værdi</th>
			<th>Indeks</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Klasse</td>
			<td>VARCHAR</td>
			<td>3</td>
			<td>PRIMARY</td>
		</tr>
		<tr>
			<td>Mentor</td>
			<td>VARCHAR</td>
			<td>3</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
	</tbody>
</table>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 2: Mentorer</th>
		</tr>
		<tr>
			<th>Kolonnenavn</th>
			<th>Datatype</th>
			<th>Længde/værdi</th>
			<th>Indeks</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Mentor</td>
			<td>VARCHAR</td>
			<td>3</td>
			<td>PRIMARY</td>
		</tr>
		<tr>
			<td>Navn</td>
			<td>VARCHAR</td>
			<td>50</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Lokale</td>
			<td>VARCHAR</td>
			<td>4</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Mobil</td>
			<td>INT</td>
			<td>8</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Mail</td>
			<td>VARCHAR</td>
			<td>50</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
	</tbody>
</table>

<table class="">
	<thead>
		<tr>
			<th colspan="4">Tabel 3: Klasser_og_elever</th>
		</tr>
		<tr>
			<th>Kolonnenavn</th>
			<th>Datatype</th>
			<th>Længde/værdi</th>
			<th>Indeks</th>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Klasse</td>
			<td>VARCHAR</td>
			<td>3</td>
			<td>PRIMARY</td>
		</tr>
		<tr>
			<td>Antal Elever</td>
			<td>TINYINT</td>
			<td>2</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Piger</td>
			<td>TINYINT</td>
			<td>2</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Drenge</td>
			<td>TINYINT</td>
			<td>2</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
		<tr>
			<td>Startår</td>
			<td>YEAR</td>
			<td>4</td>
			<td>&nbsp;-&nbsp;</td>
		</tr>
	</tbody>
</table>

<h2>Opstart af XAMPP</h2>

<span class="afsnit">Windows</span>

<p>Start <span class="inl_cmd">XXAMP</span> og aktiver <span class="inl_cmd">Apache</span> og <span class="inl_cmd">phpMyAdmin</span>. Det gøres ved at vælger knapperne <span class="knap">Start</span> i kolonnen <span class="bold">Actions</span>. Du kan se modulerne er aktive når de bliver grønne, og at der på knappen står <span class="knap">Stop</span>.</p>

<figure id="">

	<img class="p60" src="images/MySQL_XXAMP_opstart.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<span class="afsnit">Mac</span>

<p>For at starte webserveren og MySQL op skal du vælge fanen <span class="knap">Manage Servers</span>, klikke på <span class="inl_cmd">MySQL Database</span> og vælge <span class="knap">Start</span>. Når knappen foran <span class="inl_cmd">MySQL Database</span> lyser grønt er databasen startet.</p>

<figure id="">

	<img class="p60" src="images/xampp_install_15_mac.PNG" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Tilgå phpMyAdmin</h2>

<p></p>

<p>Åben browseren (Chrome eller Firefox) på adressen: <span class="inl_cmd">localhost</span> eller <span class="inl_cmd">127.0.0.1</span>. Begge adresser er lokale adresser der kun fungerer på selve computeren og de peger på den webserver er er installeret. Vælg <span class="inl_cmd">phpMyAdmin</span> øverst th.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_start_PhpMyAdmin.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p><span class="inl_cmd">phpMyAdmin</span> starter op.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_01.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Opret database og tabeller</h2>

<p>Tabellerne der arbejdes med i denne opgave kan downloades i PDF udgave her: <a href="files/tabeller_udskrift.pdf" target="_blank" download>tabeller_udskrift.pdf</a></p>

<p>Når databasen er startet op får vi adgang til hovedvinduet. For at oprette en ny dtabase vælger vi <span class="inl_cmd">Ny</span> i menuen til venstre. I feltet <span class="bold">Databasenavn</span> skriver du: <span class="inl_cmd">mentorer</span> og i <span class="bold">Tegnsæt (sortering)</span> vælger du: <span class="inl_cmd">utf8_danish_ci</span> og klikker på <span class="knap">Opret</span>.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_02.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Da det er den første tabel gør MySQL opmærksom på, at der ingen tabeller er i databasen. Opret tabellen: <span class="inl_cmd">klasser_og_mentorer</span>, og sæt antallet af kolonner til <span class="inl_cmd">2</span>. Klik på <span class="knap">Udfør</span>.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_03.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>I dette vindue skal du konfigurere de enkelte felter i databasen. I denne tabel er der to felter i hver post: <span class="inl_cmd">Klasse</span> og <span class="inl_cmd">Mentor</span>. Konfigurer dem som her, men vent med at trykke <span class="knap">Gem</span> indtil vi har sat <span class="inl_cmd">Primærnøglen</span>:</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_04.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Før vi gemmer skal vi sætte feltet <span class="inl_cmd">Klasse</span> til at være primærnøgle. Kør vinduet mod venstre og find feltet <span class="inl_cmd">Indeks</span> og vælg <span class="inl_cmd">Primary</span>.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_05.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p> Når du vælger <span class="inl_cmd">Primary</span> popper vunduet <span class="inl_cmd">Tilføj indeks</span> op. Her vælger du blot <span class="knap">Udfør</span>, da vi ikke ønsker at konfigurere det mere:</p>

<figure id="">

	<img class="p40" src="images/mysql_XAMPP_opret_tabel1_06.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Vælg <span class="knap">Udfør</span> og når du er tilbage i hovedvinduet vælger du <span class="knap">Gem</span></p>

<p>Her kan du kontrollere at din tabel er blevet oprettet korrekt. Læg mærke til at der er kommet en guldnøgle efter <span class="inl_cmd">Klasse</span>.</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_07.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Indtast data</h2>

<p>Vælg menuen indsæt og indtast indholdet</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_08.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Når du har indtastet dine data klikker du på <span class="knap">Udfør</span></p>

<p>Jeg har i dette tilfælde valgt at indtaste noget forkert. Begge indtastninger har anført <span class="inl_cmd">1a</span> som Klasse. Da vi har sat feltet Klasse til at være <span class="inl_cmd">Primary</span> brokker MySQL sig:</p>

<figure id="">

	<img class="p35" src="images/mysql_XAMPP_opret_tabel1_09.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Ret <span class="inl_cmd">1a</span> til <span class="inl_cmd">2a</span> i andet tilfælde og klik <span class="knap">udfør</span>.</p>

<p>Klik på menuen <span class="inl_cmd">Vis</span>, så du kan se dine indtastede data</p>

<figure id="">

	<img class="p90" src="images/mysql_XAMPP_opret_tabel1_10.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Indtast resten af tabellen og opret herefter de 3 andre tabeller.</p>

<h1>Søgning i databasen</h1>

<p>Når databasen er oprettet kan man søge i databasen ved hjælp af et SQL (<span class="bold">S</span>tructured <span class="bold">Q</span>uery <span class="bold">L</span>anguage). I første omgang kan det virke uoverskueligt, men når man først forstår strukturen kan man lave meget præcise søgninger i sin(e) database(r). Se eksemplet herunder:</p>

<pre>
	<code class="SQL">
SELECT * FROM Klasse_og_elever WHERE Klasse='1a' OR Klasse='1b';
	</code>
</pre>

<p>Koden betyder:</p>

<ul class="disc">
	<li><pre><code class="SQL">SELECT * </code></pre></li>
	
		<p>Vælg alt ...</p>
	
	<li><pre><code class="SQL">FROM Klasse_og_elever</code></pre></li>
	
		<p>... fra tabellen <span class="inl_cmd">Klasse_og_elever</span></p>
	
	<li><pre><code class="SQL">WHERE Klasse='1a' OR Klasse='1b'</code></pre></li>
	
		<p>... hvor der står <span class="inl_cmd">1a</span> eller <span class="inl_cmd">1b</span></p>
		
	<li><pre><code class="SQL">;</code></pre></li>
	
		<p>Alle forspørgsler skal afsluttes med et semikolon (<span class="inl_cmd">;</span>) Det virker umiddelbart som unødvendigt, men det er praktisk senere når forspørgslerne bliver lange. Der vil man kunne lave linieskift mellem de enkelte dele af forspørgslen og først når <span class="inl_cmd">;</span> kommer vil det blive udført.!</p>
	
</ul>

<figure id="">

	<img class="" src="images/mysql_kald_eksempel.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Læs mere: <a href="http://www.w3schools.com/sql/default.asp" target="_blank">http://www.w3schools.com/sql/default.asp</a></p>

<h2>Kald hele tabellen</h2>

<p>For at kalde fra hele tabellen skal vi først fortælle at vi vil kigge på alt inholdet og hvilken tabel det drejer sig om.</p>

<pre>
	<code class="SQL">
SELECT * FROM `Mentorer`;
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_hele_tabellen.png" alt="" title="" />

	<figcaption></figcaption>

</figure>


<h2>Kald en post</h2>

<p>For at se en hel post, skal vi igen vælge alt indholdet, og tabellen vi vil undersøge. Herefter fortæller vi hvilken data vi vil finde. Husk at angive tekststrenge med anførselstegn (<span class="inl_cmd">"*tekststreng*"</span>) eller citationstegn (<span class="inl_cmd">'*tekststreng*'</span>).</p>

<pre>
	<code class="SQL">
SELECT * FROM Mentorer WHERE Navn="Thomas Jensen";
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_en_post.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Kald bestemte felter</h2>

<p>Hvis vi kun vil have fra i nogle enkelte felter i hver post fortæller vi hvilke felter vi vil se og hvilken tabel det kommer fra.</p>

<pre>
	<code class="SQL">
SELECT Mentor,Mail FROM Mentorer;
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_bestemte_felter.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Kald med wildcard</h2>

<p>Nogle gange har man behov for at finde data, der har nogle fælles tegn. Det løser vi ved at anvende <span class="inl_cmd">"wildcards"</span>. Normal vil man i computerverdenen angive et wildcard med <span class="inl_cmd">*</span>, men i programmeringsverdenen har man oprindeligt anvendt procenttegnet (<span class="inl_cmd">%</span>) i tekststrenge.</p>

<p>Vi vælger igen alle data, i tabellen og søger denne gang med <span class="inl_cmd">LIKE</span> i stedet for <span class="inl_cmd">=</span>.</p>

<pre>
	<code class="SQL">
SELECT * FROM `Mentorer` WHERE Navn LIKE 'Thomas%';
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_med_wildcard.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Kald fra flere tabeller</h2>

<p>For at kalde fra Flere tabeller skal vi i <span class="inl_cmd">FROM</span> angive de tabeller vi vil søge i. Herefter skal vi angive i hvilke felter det vi søger står i. Det gøres ved at bygge stien op til feltet. Herunder vil vi anvende feltet <span class="inl_cmd">Mentor</span> fra begge tabeller. For at ramme det rigtige felt skriver vi først hvilken tabel det handler om, efterfulgt af et punktum og feltets navn. <span class="inl_cmd">Klasser_og_mentorer.Mentor</span> fortæller altså at det er feltet <span class="inl_cmd">Mentor</span> i tabellen <span class="inl_cmd">Klasser_og_mentorer</span>.</p>


<pre>
	<code class="SQL">
SELECT * FROM Klasser_og_mentorer,Mentorer WHERE Klasser_og_mentorer.Mentor='tj' AND Mentorer.Mentor="tj";
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_med_flere_tabeller.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Den søgning kan vi gøre mere præcis ved at udvælge de felter der skal udskrives fra tabellerne. Vi erstatter <span class="inl_cmd">SELECT *</span>, med den konkrete felter med den fulde adresse.</p>

<pre>
	<code class="SQL">
SELECT Klasser_og_mentorer.Klasse,Mentorer.Navn,Mentorer.Mobil,Mentorer.Mail 
FROM Klasser_og_mentorer,Mentorer 
WHERE Klasser_og_mentorer.Mentor='tj' AND Mentorer.Mentor="tj";
	</code>
</pre>

<figure id="">

	<img class="" src="images/mysql_kald_med_flere_tabeller2.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h1>Eksporter og importer</h1>

<blockquote class="center">
	<p>
		Rigtige mænd tager ikke backup ... de græder bare
	</p>
</blockquote>

<p>Når man arbejder med data i alle sammenhænge bør man have backup af sine vigtige filer. phpMyAdmin gør det nemt at tage backup af ens database. I database sammenhæng eksporterer man.</p>

<h2>Eksporter databasen</h2>

<p>For at eksportere en database vælger man menuen <span class="inl_cmd">Eksporter</span>:</p>

<figure id="">

	<img class="p90" src="images/mysql_eksporter.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Vi beholder det forudvalgte <span class="inl_cmd">SQL</span>format og klikker på <span class="knap">Udfør</span>. Herefter bliver filen gem i mappen <span class="inl_cmd">Overførsler</span> under det samme navn som databasen hedder med endelsen <span class="inl_cmd">.sql</span>. I dette tilfælde <span class="inl_cmd">mentorer.sql</span>.</p>

<p>Det kan anbefales at filen med det samme omdøbes, så det bliver tydeligt hvornår backup'en er taget f.eks: <span class="inl_cmd">mentorer031116</span>.</p>

<p>Indholdet af denne fil er de kommandoer der skal til for at gendanne databasen:</p>

<details>

	<summary>Vis koden i den eksporterede fil</summary>

<pre>
	<code class="SQL">
-- phpMyAdmin SQL Dump
-- version 4.5.1
-- http://www.phpmyadmin.net
--
-- Vært: 127.0.0.1
-- Genereringstid: 03. 11 2016 kl. 17:06:25
-- Serverversion: 10.1.16-MariaDB
-- PHP-version: 5.6.24

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `mentorer`
--

-- --------------------------------------------------------

--
-- Struktur-dump for tabellen `klasser_og_mentorer`
--

CREATE TABLE `klasser_og_mentorer` (
  `Klasse` varchar(3) COLLATE utf8_danish_ci NOT NULL,
  `Mentor` varchar(3) COLLATE utf8_danish_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_danish_ci;

--
-- Data dump for tabellen `klasser_og_mentorer`
--

INSERT INTO `klasser_og_mentorer` (`Klasse`, `Mentor`) VALUES
('1a', 'tj'),
('1b', 'ba'),
('1x', 'cc'),
('2a', 'tj'),
('2b', 'ba'),
('2x', 'cc'),
('3a', 'tj'),
('3b', 'ba');

-- --------------------------------------------------------

--
-- Struktur-dump for tabellen `klasse_og_elever`
--

CREATE TABLE `klasse_og_elever` (
  `Klasse` varchar(3) COLLATE utf8_danish_ci NOT NULL,
  `Antal Elever` tinyint(2) NOT NULL,
  `Piger` tinyint(2) NOT NULL,
  `Drenge` tinyint(2) NOT NULL,
  `Startår` year(4) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_danish_ci;

--
-- Data dump for tabellen `klasse_og_elever`
--

INSERT INTO `klasse_og_elever` (`Klasse`, `Antal Elever`, `Piger`, `Drenge`, `Startår`) VALUES
('1a', 17, 9, 8, 2016),
('1b', 16, 8, 8, 2016),
('1x', 28, 13, 15, 2016),
('2a', 22, 10, 12, 2015),
('2b', 24, 13, 11, 2015),
('2x', 31, 17, 14, 2015),
('3a', 21, 8, 13, 2015),
('3b', 22, 9, 13, 2015);

-- --------------------------------------------------------

--
-- Struktur-dump for tabellen `mentorer`
--

CREATE TABLE `mentorer` (
  `Mentor` varchar(3) COLLATE utf8_danish_ci NOT NULL,
  `Navn` varchar(50) COLLATE utf8_danish_ci NOT NULL,
  `Lokale` varchar(4) COLLATE utf8_danish_ci NOT NULL,
  `Mobil` int(8) NOT NULL,
  `Mail` varchar(50) COLLATE utf8_danish_ci NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_danish_ci;

--
-- Data dump for tabellen `mentorer`
--

INSERT INTO `mentorer` (`Mentor`, `Navn`, `Lokale`, `Mobil`, `Mail`) VALUES
('ba', 'Bent Andersen', '18', 23344518, 'ba@fakemail.dk'),
('cc', 'Christina Carlsen', '19', 23344519, 'cc@fakemail.dk'),
('tj', 'Thomas Jensen', '17', 23344517, 'tj@fakemail.dk');

--
-- Begrænsninger for dumpede tabeller
--

--
-- Indeks for tabel `klasser_og_mentorer`
--
ALTER TABLE `klasser_og_mentorer`
  ADD PRIMARY KEY (`Klasse`);

--
-- Indeks for tabel `klasse_og_elever`
--
ALTER TABLE `klasse_og_elever`
  ADD PRIMARY KEY (`Klasse`);

--
-- Indeks for tabel `mentorer`
--
ALTER TABLE `mentorer`
  ADD PRIMARY KEY (`Mentor`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
	</code>
</pre>

</details>

<h2>Importer</h2>

<p>Vi kan prøve at importere databasen under et andet navn. Det første vi gør er at oprette en ny database til indholdet. Husk at sætte tegnsæt(<span class="inl_cmd">utf8-danish_ci</span>). Herefter vælger vi fanen <span class="inl_cmd">Importer</span></p>

<figure id="">

	<img class="p90" src="images/mysql_importer.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Herefter skal du:</p>

<ol class="">
	<li>Klikke på <span class="knap">Vælg fil</span></li>
	<li>Navigere hen til din fil og klikke på <span class="knap">Åbn</span></li>
	<li>Scrolle ned ad siden og klikke på <span class="knap">Udfør</span> </li>
</ol>

<p></p>

<figure id="">

	<img class="p90" src="images/mysql_importer_succes.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>For at teste om det er lykkes vælger du fanen <span class="inl_cmd">Struktur</span>.</p>

<figure id="">

	<img class="p90" src="images/mysql_importer_succes_tjek.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h2>Ryd op i dine backups</h2>

<figure id="">

	<img class="p40" src="http://imgs.xkcd.com/comics/old_files.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Taget fra: <a href="https://xkcd.com/1360/" target="_blank">https://xkcd.com/1360/</a></p>

<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
	</body>

</html>
