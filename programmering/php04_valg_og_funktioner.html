<!DOCTYPE html>
<html lang="en">
<head>
  <title>Vidas.dk</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu|Ubuntu+Condensed' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/jquery-ui.min.css">
  <link rel="stylesheet" href="../css/jquery.tocify.css">
  <link rel="stylesheet" href="../css/style_new.css" />
<!-- Scripts in bottom to speed up pageload-->
 

</head>
<body>
	
	
<div class="container-fluid">

<div class="row-fluid">
	
<div class="col-sm-3">
	
	<div id="toc">
	
		<div id="toc_headline"></div>
	
	</div>

</div><!-- Start slut 1. kolonne - TOC -->
	
<div class="col-sm-9">
	
	<img class="p25" src="images/PHP-logo.svg" alt="" title="" />
	
	<div class="title">Valg og funktioner</div>
	
<h1>Geany</h1>

<p>Fra nu af skal vi anvende geany til at skrive kode i. For at afvikle koden skal vi anvende Geanys funktionalitet. Det gør du på følgende måde:</p>

<p>Start Geany og gå til menuen <span class="inl_cmd">Build</span>&rarr;<span class="inl_cmd">Set Build Commands</span>.</p>

	<figure id="">
	
		<img class="p70" src="images/php_setup_geany_01.png" alt="" title="" />
	
		<figcaption></figcaption>
	
	</figure>
	
<p>Skriv den fulde stil til PHP i afsnittet <span class="inl_cmd">Execute commands</span> som herunder.</p>	

	<figure id="">
	
		<img class="p60" src="images/php_setup_geany_02.png" alt="" title="" />
	
		<figcaption></figcaption>
	
	</figure>
	
<p><b>Sti på windows: </b>c:\xampp\php\php "%f"</p>

<p><b>Sti på Mac: </b>/Applications/XAMPP/bin/php/php "%f"</p>

<p><b>Sti på Ubuntu: </b> Ingen ændringer</p>

<p>Herefter vil du kunne taste <kbd>F5</kbd>, og så vil koden blive udført i et terminalvindue ved siden af.</p>


	
<h1>Input</h1>

<p>Til de næste par øvelser har vi brug for at kunne lave et input til programmet, så vi kan lade brugeren træffe nogle valg. Det gøres ved at anvende funktionen: <span class="inl_cmd">fgets(STDIN)</span>.</p>

<pre><code class="php">
&lt;?php
echo "Skriv noget: ";

$input = fgets(STDIN);

echo "\nDu skrev: $input";
?>
</code>
</pre>

<pre class="ubuntu_terminal">Skriv noget: Hej PHP

Du skrev: Hej PHP
</pre>

<p>Det gode ved PHP er, at vi ikke skal bekymre os om det er værdier eller tekst vi laver som input. Det holder PHP holder selv styr på for os.</p>

<p><b>Læg mærke til... </b>at jeg anvender <span class="inl_cmd">\n</span> til at få output til at springe en linie ekstra. Det er for at gøre output mere læsbart.</p>

<h1>Valg</h1>

<p>Når vi skal have PHP til at reagere på forskellige tilfælde (conditions), kan vi anvende 3 forskellige tilgange:</p>

<ul class="none">
	<li>Case-struktur</li>
	<li>if/else-struktir</li>
</ul>

<p>Herunder vil jeg vise hvordan de anvendes i en simpel situation, hvor en brugers svar skal bruges. Konkret skal brugeren svare på om han er en mand eller kvinde.  Der skal svaret <span class="inl_cmd">1</span> for mand og <span class="inl_cmd">2</span> for kvinde.</p>

	
<h2>Switch</h2>

<p>Når man sætter betingelserne op på denne måde opretter man en case for hver situation. Hvis a så ..., hvis b så ..., hvis c så ... osv. Lad os se et eksempel:</p>

<pre><code class="php">
&lt;?php

echo "Skriv 1 for dreng og 2 for pige: ";

$input = fgets(STDIN);

switch ($input) {
	case 1:
		echo "\nDu er en dreng";
		break;
	case 2:
		echo "\nDu er en pige";
		break;
	default:
		echo "\nDu har vist skrevet forkert";
	}
?>
</code>
</pre>

<pre class="ubuntu_terminal">Skriv 1 for dreng og 2 for pige: 2

Du er en pige
</pre>

<p>Inde i switchen (kontakten) har vi oprettet 3 cases. En hvor man er en dreng, en hvor man er en pige og en hvor man har skrevet forkert.</p>

<p>Læg mærke til at der kommer et <span class="inl_cmd">break</span> inde i hver case. Et <span class="inl_cmd">break</span> gør, at den del af programmet der kører lige nu bliver afbrudt. I dette tilfælde switch()</p>

<p>Denne måde at kode på kan altså grundlæggende skrives som</p>

<pre>
switch (** det som undersøges **) {

	case ** betingelse 1 **:
		** gør noget **
		break;

	case ** betingelse 2 **:
		** gør noget andet**
		break;
	
	.
	.
	.

	default:
		** gør noget tredie **

	}
?>
</pre>

<p>Koden går altså ind og efterprøver om den enkelte case er sand eller ej. Vi kan sætte lige så mange cases på som vi har behov for, blot den sidste er <span class="inl_cmd">default</span>.</p>

<p>Fordelen ved denne metode er overblikket</p>	
	
<h2>If/else</h2>

<p>En anden måde at gøre det samme er ved hjælp af en if/else struktur. Den samme problemstilling som ovenfor vil se ud som her:</p>

<pre><code class="php">
&lt;?php
echo "Skriv 1 for dreng og 2 for pige: ";

$input = fgets(STDIN);

if ($input == 1) {
	echo "\nDet er en dreng";
	} 
	elseif ($input == 2) {
		echo "\nDet er en pige";
		}

	else {
		echo "\nDu har vist skrevet forkert";
		}
?>
</code>
</pre>

<pre class="ubuntu_terminal">Skriv 1 for dreng og 2 for pige: 1

Det er en dreng
</pre>

<p>Egentlig er tankegangen den samme her, men læg mærke til at vi ikke skal <span class="inl_cmd">breake</span> funktionen. Det gør den af sig selv.</p>

<p>Vi kan altså opstille if/else på følgende måde:</p>

<pre><code class="php">
if (betingelse_1) { 
	** Gør noget **}<br />
	elseif (betingelse_2) {
		** Gør noget andet **; }<br />
	.
	.
	.
	
	else {
		** Gør noget tredie **; }	
</code>
</pre>

<p>Koden går også her ind og efterprøver om den enkelte betingelse er sand eller ej. Vi kan sætte lige så mange <span class="inl_cmd">elseif</span> på som vi har behov for, blot den sidste er en <span class="inl_cmd">else</span>.</p>

<h2>Indlejring</h2>

<p>Man kan også indlejre dem i hinanden i lige så mange lag som man vil. Man kan have:</p>

<ul class="none">
	<li>swithes i swithes</li>
	<li>switches i if/else</li>
	<li>if/else i switches</li>
</ul>

<p>En analogi kan være et bibliotek - med bogreoler - med bøger - med sider - med ord - med bogstaver.</p>

<p>Det eneste man skal huske på er, at det skal give mening. For man risikerer at lave koden så kompleks at man ikke kan overskue den mere. Gør ikke koden mere kompleks end andre også kan sætte sig ind i den.</p>

<h2>Switch eller if/else</h2>

<p>Det afgørende handler om overblik og effektivitet. Generelt vil jeg anbefale at man anvender if/else bla. fordi der er mindre skrivearbejde i den, men især fordi den mere logisk tvinger os til at opdele det vi arbejder med (overblik).</p>

<h1>Funktioner</h1>

<p>Undtil videre har vi arbejdet med PHP's indbygge funktioner. Nogle gange kan det være smart at kunne lave sine egne funktioner. Det kan både være fordi man skal bruge den samme kodestump flere gange, men det kan også være for overblikkets skyld.</p>

<p>Herunder er der et eksempel på en simpel funktion der udskriver en kasse med tekst.</p>

<pre><code class="php">
&lt;?php
function velkommen() {
	echo "╔═══════════════════╗\n";
	echo "║                   ║\n";
	echo "║     Velkommen     ║\n";
	echo "║                   ║\n";
	echo "╚═══════════════════╝";
}

velkommen();
?>
</code>
</pre>

<pre class="ubuntu_terminal">╔═══════════════════╗
║                   ║
║     Velkommen     ║
║                   ║
╚═══════════════════╝
</pre>

<p>Vi kan altså kalde den samme funktion igen og igen, ved hælp af at skrive funktionens navn, her: <span class="inl_cmd">velkommen()</span>.</p>

<h2>Funktioner med parametre</h2>

<p>Ofte har vi brug for at kunne definere nogle variabler i vores funktioner. Herunder har jeg lavet en kode, der undersøger om variabel <span class="inl_cmd">$a</span> er større end <span class="inl_cmd">$b</span>.</p>

<p>Derudover har jeg valgt at introducere <span class="inl_cmd">return</span>. Hvis <span class="inl_cmd">$a</span> er større end <span class="inl_cmd">$b</span>, så vil funktionen resultere med værdien <span class="inl_cmd">true</span>.</p>

<pre><code class="php">
&lt;?php
function turn_on($a,$b) {
	
	if ($a>$b){
		return true;
		}
	}

if (turn_on(20,15)) {
	echo "Tænd blæseren";
	} 
	else {
		echo "Forbliv slukket";
	}
?>
</code>
</pre>

<pre class="ubuntu_terminal">Tænd blæseren
</pre>

<p>Læg mærke til, at i if sætningen <span class="inl_cmd"> if (turn_on(20,15))</span> ikke skal være lig noget. If "oversætter" funktionen og får værdien <span class="inl_cmd">true</span> - altså sand. Mere behøver if/else løkken ikke at vide.</p>

<p>Vi kunne også have sat den til at returnere et tal eller et tekststreng.</p>

<pre><code class="php">
&lt;?php
function turn_on($a,$b) {
	
	if ($a>$b){
		return 1;
		}
	}

if (turn_on(21,19) == 1) {
	echo "Tænd blæseren";
	} 
	else {
		echo "Forbliv slukket";
	}
?>
</code>
</pre>

<p>Herunder er funktionen <span class="inl_cmd">andengrad()</span> lavet:</p>

<pre><code class="php">
&lt;?php
function andengrad($a,$b,$c) {
	
$D = pow($b,2)-4*$a*$c;
echo "\n\nDiskreminanten er: $D\n";

	if ($D>0){
		$x1 = (-$b+sqrt($D))/(2*$a);
		$x2 = (-$b-sqrt($D))/(2*$a);
		
		if ($x1&lt;$x2){echo "Nulpunkterne er: $x1 og $x2";}
			else {echo "Nulpunkterne er: $x2 og $x1";}
		}
	elseif ($D == 0){
		$x0 = -$b/2*$a;
		echo "Nulpunktet er: $x0";
		}
	else {
		echo "Der er ingen nulpunkter";
		}	
}

andengrad(1,-5,6);
andengrad(1,2,1);
andengrad(2,3,3);
?>
</code>
</pre>

<pre class="ubuntu_terminal">
Diskreminanten er: 1
Nulpunkterne er: 2 og 3

Diskreminanten er: 0
Nulpunktet er: -1

Diskreminanten er: -15
Der er ingen nulpunkter
</pre>

<h2>Globale variabler</h2>

<p>Nogle gange har man brug for at kunne anvende en variabel der er udregnet i en funktion. Se eksemplet herunder:</p>

<pre><code class="php">
&lt;?php
function test() {
	$var = 5;
	}
test();
echo $var;
?>
</code>
</pre>

<pre class="ubuntu_terminal">PHP Notice:  Undefined variable: var in /var/www/html/output.php on line 6
</pre>

<p>SOm du kan se kan vi ikke umiddelbart anvende den variabel der er i funktionen. Det er fordi variabler kun er defineret inde i funktionen. For at kunne anvende den uden for funktionen skal den være global. Se eksemplet:</p>

<pre><code class="php">
&lt;?php
function test() {
	global $var;
	$var = 5;
	}
test();
echo $var;
?>
</code>
</pre>

<pre class="ubuntu_terminal">5
</pre>


</div><!-- end: col-md-9 -->





<footer>

	<p><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons licens" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>Indholdet på Vidas.dk er licenseret under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> og er skrevet af Thomas Jensen. (<a href="../hvem_er_jeg.html" target="_blank">Læs mere</a>)</p>

</footer>
	
	
</div><!-- end: row-fluid -->

</div> <!-- end: container-fluid -->


<!-- SCRIPT SECTION -->
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../js/jquery.tocify.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>

<!-- PRETTYFY-->
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>


<!-- HIGHLIGHT -->
	<script src="../js/highlight.pack.js" type="text/javascript"></script>
	<script>hljs.initHighlightingOnLoad();</script>

<!-- MATHJAX -->
<script type="text/javascript" 
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "0em"
});
</script>


<!-- TOCIFY -->
<script>
	$(function() {var toc = $("#toc").tocify({ selectors: "h1, h2, h3, h4" }).data("toc-tocify"); });
</script>
<!-- GOOGLE ANALYTICS -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89933285-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
