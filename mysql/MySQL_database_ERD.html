<!DOCTYPE html>
<html lang="da">
<head>
  <title>MySQL ERD</title>
  <link rel="icon" href="../images/favicon.png">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Ubuntu|Ubuntu+Condensed' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <link rel="stylesheet" href="../css/jquery-ui.min.css">
  <link rel="stylesheet" href="../css/jquery.tocify.css">
  <link rel="stylesheet" href="../css/style_new.css" />
<!-- Scripts in bottom to speed up pageload-->
 

</head>
<body>
	
	
<div class="container-fluid">

<div class="row-fluid">
	
<div class="col-xs-3">
	
	<nav>
		
		<div id="toc">
		
			<div id="toc_headline"></div>
		
		</div>
		
	</nav>

</div><!-- Start slut 1. kolonne - TOC -->
	
<div class="col-xs-9">
	
<h1>MySQL - E/R-diagrammer</h1>




<h2>ER-modellen</h2>

<p><span class="inl_cmd">ER</span>-modellen (<span class="bold">E</span>ntity <span class="bold">R</span>elationship) anvendes til at få overblik over sammenhænge og relationer, og er oprindeligt blevet udviklet af <a href="https://pdfs.semanticscholar.org/e4cd/a968b46b3147bf9e8102543b927d28529ecc.pdf" target="_blank">Peter Pin-Shan Chen i 1976</a>. Modellen har vist sig så så robust at den stadig anvendes.</p>

<p>Værktøjet kan bruges både til at beskrive og modellere databaser, men kan også anvendes til at beskrive relationer mellem mennesker. I denne guide vil <span class="inl_cmd">ERD</span> først blive gennemgået ud fra fra relationer mellem mennesker for at du får en ide om hvordan den kan anvendes til at få overblik over komplekse situationer. Overordnet set gælder følgende:</p>

<h3>Entitet</h3>

<p><abbr title="Den danske ordbog">DDO</abbr> definerer en <span class="inl_cmd">entitet</span> som en "<span class="inl_cmd">selvstændig fungerende del af en enhed</span>" (<a href="http://ordnet.dk/ddo/ordbog?query=entitet" target="_blank">Henvisning</a>). I ER-diagrammer tegnes entiteter med en rektangel.</p>
		
<p>I vores <span class="inl_cmd">Mentor</span>-database er tabellen <span class="inl_cmd">klasse_og_elever</span> en entitet, da den beskriver alt vedrørende klasser og elever.</p>
		
<p><b>Figur: </b>Rektangel</p>
		
<h3>Relation</h3>

<p>En relation beskriver et forbindelsesled mellem tabeller. I <span class="inl_cmd">Mentor</span>-databasen er tabellen <span class="inl_cmd">klasser_og_mentorer</span> det led der beskriver relationen mellem databasens andre tabeller</p>
		
<p><b>Figur: </b>Rombe</p>

<h3>Forbindelse</h3>

<p>Forbindelsen beskriver måden <span class="inl_cmd">entiteter</span> og <span class="inl_cmd">relationer</span> forbinder sig med hinanden. der findes grundlæggende 3 former:</p>
		
<ol class="">

	<li>En-til-mange</li>
	
	<p>Den mest almindelige form for forbindelse, som hjælper til at forhindre <span class="inl_cmd">redundans</span> (gentagelser) i databasen. Det kan f.eks. være en tabel med postnumre og byer, som sikrer at man f.eks. kun skal angive postnummeret når man skriver adresser. Databasen vil herefter selv hente bynavnet.</p>
	
	<p>Det sikrer også at det samme postnummer ikke kan have to forskellige bynavne.</p>
	
	<li>En-til-en</li>

	<p><span class="inl_cmd">En-til-en</span> forbindelser sikrer at de to forbundne værdier kun kan have en forekomst i begge tabeller. Det kan f.eks. være smart, hvis man har et behov for at have to niveauer af datadefineret af relevans/privathed. Så kan man lave en tabel, hvor offentlige data er tilgængelige og en som indeholder de fortrolige ting.</p>
		
	<li>mange-til-mange</li>

	<p>I avancerede databaseløsninger kan det være nødvendigt at have relationer hvor der er mange både i hjemme- og fremmedtabellen. De er ikke relevante på dette niveau. </p>


</ol>


<h2>Anvendelse af ER-diagrammer</h2>

<p>ER-diagrammer er gode at anvende i databasens planlægnings- og designfase, da den giver et overblik over  databasens opbygning med tabeller og relationer. Sat op i ERD modellen vil mentordatabasen se ud som herunder.</p>

<figure id="">

	<img class="p90" src="images/mysql_erd_03.svg" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Den ovenstående model viser os hvordan de enkelte tabeller forholder sig til hinanden, men fortæller intet om indholdet i databasen. Her kan man anvende en mere avanceret model som du kan se herunder:</p>

<figure id="">

	<img class="p50" src="images/mysql_erd_04.svg" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>PhpMyAdmin kan også vise databasen ved hjælp af en ER'ish visning, ved at vælge hele databasen og vælge menuen <span class="inl_cmd">Designer</span> (står under <span class="inl_cmd">Mere</span> hvis vinduet ikke er bredt nok).</p>

<figure id="">

	<img class="p90" src="images/mysql_erd_04_phpmyadmin.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<details>

	<summary>Hvis du mangler den så download databasen her:</summary>

	<p><a href="files/mentor_db_v2.sql" target="_blank">mentor_db_v2.sql</a></p>

</details>


<h2>Relationer</h2>

<p>Relationerne mellem tabellerne beskrives ved at sætte nogle linjer imellem tabellerne. På disse linjer kan der sættes forskellige symboler som forklarer hvordan relationen er mellem tabellerne/kolonnerne er.</p>

<p>Herunder er nævnt både de almindelige og  bede betingende relationer. De betingede er gode at anvende under designet af en databasestruktur, da de kan være med til at afgøre om nogle tabeller skal oprettes eller ej.</p>


<h3>Almindelige relationer</h3>

<span class="afsnit">En til en</span>

<p><img class="p80" src="images/mysql_erd_05a.svg" alt="" title="" /></p>

<span class="afsnit">En til en (alternativ)</span>

<p><img class="p80" src="images/mysql_erd_05b.svg" alt="" title="" /></p>

<span class="afsnit">En til mange</span>

<p><img class="p80" src="images/mysql_erd_05c.svg" alt="" title="" /></p>

<span class="afsnit">Mange til mange</span>

<p><img class="p80" src="images/mysql_erd_05d.svg" alt="" title="" /></p>


<h3>Betingede relationer</h3>

<p></p>

<span class="afsnit">En og kun en </span>

<p><img class="p80" src="images/mysql_erd_05e.svg" alt="" title="" /></p>

<span class="afsnit">Ingen eller en</span>

<p><img class="p80" src="images/mysql_erd_05f.svg" alt="" title="" /></p>

<span class="afsnit">Ingen eller mange</span>

<p><img class="p80" src="images/mysql_erd_05g.svg" alt="" title="" /></p>

<span class="afsnit">En eller flere end en</span>

<p><img class="p80" src="images/mysql_erd_05h.svg" alt="" title="" /></p>

<h2>Opret diagrammer</h2>

<p>Den letteste måde at tegne diagrammer er ved at anvende tegneprogrammet der ligger på <a href="https://www.draw.io/" target="_blank">draw.io</a>. Når man kommer ind på siden skal man vælge hvor den færdige tegning skal ligge. Hvis tegningen skal ligge på din computer skal du vælge <span class="inl_cmd">Device</span>.</p>

<figure id="">

	<img class="p90" src="images/drawio_01.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Herefter skal du vælge om du vil lave et nyt diagram eller om du vil åbne et eksisterende. Vælg <span class="inl_cmd">Create New Diagram</span>.</p>

<figure id="">

	<img class="p90" src="images/drawio_02.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p><span class="inl_cmd">draw.io</span> har mange forskellige typer af diagrammer, men her vælger vi <span class="inl_cmd">Blank Diagram</span> og trykker <span class="knap">Create</span>.</p>

<figure id="">

	<img class="p90" src="images/drawio_03.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>Nu er du inde i selve programmet. I venstre side kan du vælge forskellige typer af figurerer. og i den højre side ændrer man på egenskaberne af det man arbejder med. Vælg <span class="inl_cmd">Entity Relation</span> i venstre side.</p>

<figure id="">

	<img class="p90" src="images/drawio_04.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<p>For at tegne dine diagrammer trækker du elementerne fra den venstre side ind på tegningen. Ved at holde musen over elementerne bliver elementerne forstørret så du kan se dem bedre.</p>

<figure id="">

	<img class="p90" src="images/drawio_05.png" alt="" title="" />

	<figcaption></figcaption>

</figure>

<h3>Øvelse</h3>

<p>Tegn <span class="inl_cmd">mentor</span>-databasen.</p>



<h2>Diagrammer til udskrift</h2>

<p>Download diagrambokse i PDF-format: <a href="files/er_diagram_bokse.pdf" target="_blank">er_diagram_bokse.pdf</a></p>

<h2>Henvisninger</h2>

<p>Video: <a href="https://youtu.be/B5r8CcTUs5Y" target="_blank">https://youtu.be/B5r8CcTUs5Y</a></p>

<p>Henvisninger: <a href="https://www.youtube.com/results?search_query=eddie+who+database" target="_blank">https://www.youtube.com/results?search_query=eddie+who+database</a></p>



<span class="afsnit">E/R diagrammer</span>

<ol class="">
	<li><a href="https://pdfs.semanticscholar.org/e4cd/a968b46b3147bf9e8102543b927d28529ecc.pdf" target="_blank">https://pdfs.semanticscholar.org/e4cd/a968b46b3147bf9e8102543b927d28529ecc.pdf</a></li>
	<li><a href="http://bit.csc.lsu.edu/~chen/pdf/ER_C.pdf" target="_blank">http://bit.csc.lsu.edu/~chen/pdf/ER_C.pdf</a></li>
	<li><a href="http://slideplayer.dk/slide/3215117/" target="_blank">http://slideplayer.dk/slide/3215117/</a></li>
	<li><a href="https://docs.oracle.com/cd/A87860_01/doc/java.817/a81358/05_deva.gif" target="_blank">https://docs.oracle.com/cd/A87860_01/doc/java.817/a81358/05_deva.gif</a></li>
	<li><a href="https://www.smartdraw.com/entity-relationship-diagram/" target="_blank">https://www.smartdraw.com/entity-relationship-diagram/</a></li>
</ol>
	
</div><!-- end: col-md-9 -->

<footer>

	<p onclick="parentNode.remove()"><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons licens" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a>Indholdet på Vidas.dk er licenseret under <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> og er skrevet af Thomas Jensen. (<a href="../hvem_er_jeg.html" target="_blank">Læs mere</a>)</p>

</footer>
	
	
</div><!-- end: row-fluid -->

</div> <!-- end: container-fluid -->


<!-- SCRIPT SECTION -->
<script type="text/javascript" src="../js/jquery.min.js"></script>
<script type="text/javascript" src="../js/jquery-ui.min.js"></script>
<script type="text/javascript" src="../js/jquery.tocify.min.js"></script>
<script type="text/javascript" src="../js/bootstrap.min.js"></script>

<!-- PRETTYFY-->
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>


<!-- HIGHLIGHT -->
	<script src="../js/highlight.pack.js" type="text/javascript"></script>
	<script>hljs.initHighlightingOnLoad();</script>

<!-- MATHJAX -->
<script type="text/javascript" 
	src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  displayAlign: "left",
  displayIndent: "0em"
});
</script>


<!-- TOCIFY -->
<script>
	$(function() {var toc = $("#toc").tocify({ selectors: "h2, h3, h4" }).data("toc-tocify"); });
</script>
<!-- GOOGLE ANALYTICS -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89933285-1', 'auto');
  ga('send', 'pageview');
</script>

</body>
</html>
